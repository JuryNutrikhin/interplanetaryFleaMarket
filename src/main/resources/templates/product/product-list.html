<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:replace="layout/page-layout.html :: head-content "/>
</head>

<!--<body class="main d-grid p-5">-->
<body class="main row">
<!--<div class=" row ">-->

    <!-- Добавление панель админ -->
    <th:block th:replace="layout/page-layout.html :: nav-admin"/>
<div class="container col">


    <div class="  text-center table-bordered">


            <th:block th:replace="layout/page-layout.html :: nav-page"/>

            <h1>Список товаров</h1>

            <p th:if="${errorMessage != null}" class="alert alert-danger">
                [[${errorMessage}]]
            </p>

            <p th:if="${successMessage != null}" class="alert alert-success">
                [[${successMessage}]]
            </p>

            <table class="table table-striped border-secondary">

                <tr th:if="${products == null}">
                    <td colspan="4"> Нет записей в таблице</td>
                </tr>

                <thead class="table-dark">
                <tr>
                    <th scope="col">Id</th>
                    <th scope="col">Постер</th>
                    <th scope="col">Наименование товара</th>
                    <th scope="col">Страна</th>
                    <th scope="col">Жанр</th>
                    <th scope="col">Дата создания</th>
                    <th scope="col">Количество на складе</th>
                    <th scope="col">Цена за штуку</th>
                    <!--            <th scope="col">Постер</th>-->
                    <th scope="col">Действие</th>
                </tr>
                </thead>

                <tbody>
                <tr th:each="producted : ${products}" th:object="${producted}">
                    <th scope="row">[[${producted.id}]]</th>
                    <td><img th:src="@{'data:image/jpeg;base64,' + ${producted.image.data}}" height="40"></td>
                    <td>[[${producted.productName}]]</td>
                    <td>[[${producted.productCountry}]]</td>
                    <td>[[${producted.genre}]]</td>
                    <td>[[${producted.productDateCreate}]]</td>
                    <td>[[${producted.productCount}]]</td>
                    <td>[[${producted.productPrice}]]</td>


                    <td>
                        <a th:href="@{'/product/' + ${producted.id}}" class="btn btn-secondary">Смотреть</a>
                        <a th:href="@{'/product/update/' + ${producted.id}}" class="btn btn-secondary">Изменить</a>
                        <a th:href="@{'/product/delete/' + ${producted.id}}" class="btn btn-secondary">Удалить</a>
                    </td>
                </tr>
                </tbody>
            </table>

            <div class="m-auto">
                <a type="submit" class="btn btn-secondary" th:href="@{/product/new-product}">
                    Добавить товар
                </a>
            </div>

            <!-------------------------------------FOOTER------------------------------------->

            <th:block th:replace="layout/page-layout.html :: footer-page"/>



    </div>

</div>
</div>

<!--<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"-->
<!--        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous">-->
<!--</script>-->
<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"-->
<!--        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous">-->
<!--</script>-->
</body>
</html>